{"ast":null,"code":"import _slicedToArray from \"/Users/christophercass/Dev/portfolio/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/christophercass/Dev/portfolio/client/src/pages/Home/index.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport HeroWrap from './layout/HeroWrap';\nimport HeroBg from './layout/HeroBg';\nimport Hero from './layout/Hero';\nimport HeroContainer from './layout/HeroContainer';\nimport Featured from './layout/Featured';\nimport Image from '../../shared/Image';\nimport ProjectGrid from '../Projects/ProjectGrid'; // import projects from '../../projects';\n\nimport { latestProjects, featuredProjects, handleHero } from '../../helpers';\nimport { getProjects } from '../../api';\n\nconst renderHero = projects => projects.map(project => React.createElement(Hero, {\n  key: project.title,\n  className: \"hero\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, React.createElement(Link, {\n  to: \"/projects/\".concat(project.route, \"/\"),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, React.createElement(Image, {\n  src: project.image,\n  alt: project.title,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}))));\n\nconst Home = () => {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        projects = _useState2[0],\n        setProjects = _useState2[1];\n\n  const fetchData = async () => {\n    const response = await getProjects();\n    console.log(response.data); // setProjects(response.data);\n\n    console.log(projects);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useEffect(() => handleHero(count));\n\n  function useInterval(callback, delay) {\n    const savedCallback = useRef();\n    useEffect(() => {\n      savedCallback.current = callback;\n    }, [callback]);\n    useEffect(() => {\n      function tick() {\n        savedCallback.current();\n      }\n\n      if (delay !== null) {\n        let id = setInterval(tick, delay);\n        return () => clearInterval(id);\n      }\n    }, [delay]);\n  }\n\n  let _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      count = _useState4[0],\n      setCount = _useState4[1];\n\n  useInterval(() => {\n    if (count === 3) {\n      count = -1;\n    }\n\n    setCount(count + 1);\n  }, 7000);\n\n  if (!projects) {\n    return false;\n  }\n\n  return React.createElement(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(HeroContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(HeroWrap, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, renderHero(latestProjects(projects)), React.createElement(HeroBg, {\n    src: projects[0].image,\n    alt: projects[0].title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }))), React.createElement(Featured, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(ProjectGrid, {\n    projects: featuredProjects(projects),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  })));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/christophercass/Dev/portfolio/client/src/pages/Home/index.js"],"names":["React","useState","useEffect","useRef","Link","HeroWrap","HeroBg","Hero","HeroContainer","Featured","Image","ProjectGrid","latestProjects","featuredProjects","handleHero","getProjects","renderHero","projects","map","project","title","route","image","Home","setProjects","fetchData","response","console","log","data","count","useInterval","callback","delay","savedCallback","current","tick","id","setInterval","clearInterval","setCount"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport HeroWrap from './layout/HeroWrap';\nimport HeroBg from './layout/HeroBg';\nimport Hero from './layout/Hero';\nimport HeroContainer from './layout/HeroContainer';\nimport Featured from './layout/Featured';\nimport Image from '../../shared/Image';\nimport ProjectGrid from '../Projects/ProjectGrid';\n// import projects from '../../projects';\nimport { latestProjects, featuredProjects, handleHero } from '../../helpers';\nimport { getProjects } from '../../api';\n\nconst renderHero = projects =>\n  projects.map(project => (\n    <Hero key={project.title} className=\"hero\">\n      <Link to={`/projects/${project.route}/`}>\n        <Image src={project.image} alt={project.title} />\n      </Link>\n    </Hero>\n  ));\n\nconst Home = () => {\n  const [projects, setProjects] = useState(null);\n\n  const fetchData = async () => {\n    const response = await getProjects();\n    console.log(response.data);\n    // setProjects(response.data);\n    console.log(projects);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  useEffect(() => handleHero(count));\n\n  function useInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    useEffect(() => {\n      savedCallback.current = callback;\n    }, [callback]);\n\n    useEffect(() => {\n      function tick() {\n        savedCallback.current();\n      }\n      if (delay !== null) {\n        let id = setInterval(tick, delay);\n        return () => clearInterval(id);\n      }\n    }, [delay]);\n  }\n\n  let [count, setCount] = useState(0);\n\n  useInterval(() => {\n    if (count === 3) {\n      count = -1;\n    }\n    setCount(count + 1);\n  }, 7000);\n\n  if (!projects) {\n    return false;\n  }\n\n  return (\n    <main>\n      <HeroContainer>\n        <HeroWrap>\n          {renderHero(latestProjects(projects))}\n          <HeroBg src={projects[0].image} alt={projects[0].title} />\n        </HeroWrap>\n      </HeroContainer>\n      <Featured>\n        <ProjectGrid projects={featuredProjects(projects)} />\n      </Featured>\n    </main>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}